<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Experience</title>
    <script src="../script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link rel="stylesheet" href="../static/addBar.css">
    <link rel="shortcut icon" href="#">
</head>
<body>
    <!-- Header containing logo, name, and horizontal line -->
    <header>
        <div class="header-content">
            <img id="logo" src="../images/Capital.png" alt="Capitol">
            <div class="head-text">
                <p id="UBar">UBar-</p>
                <p id="Madison">&nbsp;Madison</p>
            </div>
            <hr>
        </div>
    </header>

    <div class="back_button">
        <button onclick="goToHomePage('home.html')" id="back_button">Cancel</button>
    </div>

    <form id="inputForm" method="POST" name="inputForm">
        <div class="add-input">
            <div>
                <p class="text">What bar did you visit?</p>
                <!--Drop down menu with all of the bars-->
                <div class="dropdown">
                    <select name="bars" id="bars" required>
                        <option selected hidden value="base"> -- select an option -- </option>
                        <option value="Chaser's 2.0">Chaser's 2.0</option>
                        <option value="Churchkey Bar and Grill">Churchkey Bar and Grill</option>
                        <option value="City Bar">City Bar</option>
                        <option value="Danny's Pub">Danny's Pub</option>
                        <option value="Lucky's 1313 Brew Pub">Lucky's 1313 Brew Pub</option>
                        <option value="Sconnie Bar">Sconnie Bar</option>
                        <option value="State Street Brats">State Street Brats</option>
                        <option value="The Double U">The Double U</option>
                        <option value="The Kollege Klub">The Kollege Klub</option>
                        <option value="Wando's Bar and Grill">Wando's Bar and Grill</option>
                        <option value="Whiskey Jack's Saloon">Whiskey Jack's Saloon</option>
                    </select>
                </div>
            </div>

            <div>
                <p class="text">How long did you wait in line?</p>
                <!--Accepted and rejected buttons, only one can be selected-->
                <div class="dropdown">
                    <select name="wait-time" id="wait-time" required>
                        <option selected hidden value="base"> -- select -- </option>
                        <option value="0">0 minutes</option>
                        <option value="5">5 minutes</option>
                        <option value="10">10 minutes</option>
                        <option value="15">15 minutes</option>
                        <option value="20">20 minutes</option>
                        <option value="25">25 minutes</option>
                        <option value="30">30 minutes</option>
                        <option value="35">35 minutes</option>
                        <option value="40">40 minutes</option>
                        <option value="45">45 minutes</option>
                        <option value="50">50 minutes</option>
                        <option value="55">55 minutes</option>
                        <option value="60">60+ minutes</option>
                    </select>
                </div>
            </div>

            <div>
                <p class="text">Did you get accepted or rejected?</p>
                <!--Accepted and rejected buttons, only one can be selected-->
                <div class="dropdown">
                    <select name="get-in" id="get-in" required>
                        <option selected hidden value="base"> -- select -- </option>
                        <option value="Accepted">Accepted</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                </div>
            </div>

            <br>
            <br>

            <!-- Popup thanking user for submitting details, sends them back to home page -->
            <div class="popupContainer">
                <button type="submit" class="btn" onclick="validate()" id="insert-input">Submit</button>
                <div class="popup" id="popup">
                    <img id="popup img" src="../images/Tick.png" alt="Tick">
                    <h2>Thank You!</h2>
                    <p>Your details have been successfully submitted. Thanks!</p>
                    <button type="submit" onclick="goToHomePage('home.html')">OK</button>
                </div>
            </div>

        </div>
    </form>

    <script>

        $(function(){
            $("#inputForm").on("submit", function(event) {
                event.preventDefault();

                var bar = $("#bars").val();
                var time = $("#wait-time").val();
                var accepted = $("#get-in").val();

                $.ajax({
                    url: "../userInput.php",
                    type: "POST",
                    dataType: "html",
                    data: {
                        bar: bar, 
                        time: time, 
                        accepted: accepted
                    },
                    success: function(data) {
                        alert(data);
                    }
                });
            });
        }) 

    </script>
</body>
</html>